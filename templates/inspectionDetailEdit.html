{% extends 'base.html' %}

{% block title %}Edit Inspection Details{% endblock %}

{% block content %}
    <div class="form-container">
        <h2>Edit Inspection Details</h2>
        <form action="/update-inspection" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="area">Area</label>
                <input type="text" id="area" name="area" value="{{ inspection.area }}" required>
            </div>

            <div class="form-group">
                <label for="item">Item</label>
                <input type="text" id="item" name="item" value="{{ inspection.item }}" required>
            </div>

            <div class="form-group checkbox-container">
                <input type="checkbox" id="action_required" name="action_required" value="True" 
                {% if inspection.action_required %}checked{% endif %}>
                <label for="action_required">Action Required</label>
            </div>
            
            <div class="form-group">
                <label>Consequence</label>
                <div class="segmented-control" id="consequence-group">
                    {% for value, label in [('low', 'Low'), ('minor', 'Minor'), ('moderate', 'Moderate'), ('major', 'Major')] %}
                        <label>
                            <input type="radio" name="consequence" value="{{ value }}" 
                            {% if inspection.consequence == value %}checked{% endif %}>
                            <span>{{ label }}</span>
                        </label>
                    {% endfor %}
                </div>
            </div>
            
            <div class="divider"></div>
            <div class="form-group">
                <label>Time Ranking</label>
                <div class="segmented-control" id="time-ranking-group">
                    {% for value, label in [
                        ('immediate', 'Immediate'), 
                        ('under 1 month', 'Under 1 Month'),
                        ('under 3 months', 'Under 3 Months'),
                        ('under 6 months', 'Under 6 Months'),
                        ('under 12 months', 'Under 12 Months'),
                        ('under 18 months', 'Under 18 Months'),
                        ('over 18 months', 'Over 18 Months')
                    ] %}
                        <label>
                            <input type="radio" name="time_ranking" value="{{ value }}" 
                            {% if inspection.time_ranking == value %}checked{% endif %}>
                            <span>{{ label }}</span>
                        </label>
                    {% endfor %}
                </div>
            </div>
            <div class="divider"></div>
            <div class="form-group">
                <label>Probability</label>
                <div class="segmented-control" id="probability-group">
                    {% for value, label in [
                        ('immediate', 'Immediate'), 
                        ('almost certain', 'Almost Certain'),
                        ('likely', 'Likely'),
                        ('possible', 'Possible'),
                        ('unlikely', 'Unlikely'),
                        ('very rare', 'Very Rare')
                    ] %}
                        <label>
                            <input type="radio" name="probability" value="{{ value }}" 
                            {% if inspection.probability == value %}checked{% endif %}>
                            <span>{{ label }}</span>
                        </label>
                    {% endfor %}
                </div>
            </div>

            <div class="form-group">
                <label for="unit">Unit</label>
                <input type="text" id="unit" name="unit" value="{{ inspection.unit }}">
            </div>

            <div class="form-group">
                <label for="observations">Observations</label>
                <input type="text" id="observations" name="observations" value="{{ inspection.observations }}">
            </div>

            <div class="form-group">
                <label for="recommendations">Recommendations</label>
                <input type="text" id="recommendations" name="recommendations" value="{{ inspection.recommendations }}">
            </div>

            <div class="form-group">
                <label for="picture_caption">Picture Caption</label>
                <input type="text" id="picture_caption" name="picture_caption" value="{{ inspection.picture_caption }}">
            </div>

            <div class="form-group">
                <label for="picture">Upload Picture</label>
                <input type="file" id="picture" name="picture" accept="image/*">
            </div>

            <div class="form-group checkbox-container">
                <input type="checkbox" id="display_picture_on_report" name="display_on_Report" value="True" 
                {% if inspection.display_on_Report %}checked{% endif %}>
                <label for="display_picture_on_report">Display Picture on Report</label>
            </div>

            <button type="submit" class="submit-btn">Update</button>
        </form>
    </div>
{% endblock %}
